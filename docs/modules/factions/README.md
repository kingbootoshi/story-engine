# Faction Module Documentation

The Faction module introduces dynamic political and social entities into the Story Engine, creating a living political landscape that evolves with the narrative.

## Quick Start

```typescript
// Factions are automatically created when a world is created
const world = await trpc.world.create.mutate({
  name: 'The Cybernetic Empires',
  description: 'A world ruled by warring cyber-corporations'
});
// â†’ 2-3 factions generated automatically

// List all factions in a world
const factions = await trpc.faction.list.query({ 
  worldId: world.id 
});

// Get relations for a specific faction
const relations = await trpc.faction.getStances.query(factions[0].id);
```

## Documentation Structure

### ðŸ“‹ [System Overview](./system-overview.md)
Core concepts, how factions provide context to and react to the world story, and the event-driven architecture.

### ðŸ”§ [API Reference](./api-reference.md)
Complete reference for all tRPC procedures, REST endpoints, and type definitions.

### ðŸŽ­ [Narrative Design Guide](./narrative-design.md)
How to use factions for dynamic storytelling, political intrigue, and creating narrative conflict.

### ðŸ’¡ [Examples](./examples.md)
Code examples, patterns, and real-world usage scenarios for managing factions.

## Key Features

- **Automatic Seeding**: 2-3 factions are generated by AI when a world is initialized, creating an instant political landscape.
- **Event-Driven Reactions**: Factions intelligently react to story beats, changing their diplomatic stances and goals.
- **Dynamic Ideology**: A faction's core doctrine evolves based on its successes and failures.
- **Territorial Control**: Factions can claim, control, and lose locations, linking their fate to the world's geography.
- **Diplomatic Simulation**: AI evaluates and suggests changes to relationships (ally, neutral, hostile) based on world events.

## Module Integration

The Faction module is deeply integrated with the engine:

- **World Module**: Listens to `world.created` and `world.beat.created` events to generate and update factions. Faction actions in turn create `world.event.logged` events that fuel the story.
- **Location Module**: Factions can control locations. Changes in a location's status (e.g., being `ruined`) can impact the controlling faction's power and status.
```